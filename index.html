<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>PinkGlow Beauty</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<style>
  body { background:#fff0f5; }
</style>
</head>

<body class="min-h-screen">

<header class="bg-pink-200 shadow-md p-4 flex justify-between items-center">
  <h1 class="text-2xl font-bold text-pink-700">ðŸŒ¸ PinkGlow Beauty</h1>
  <button onclick="openCheckout()" class="text-right text-pink-700 font-semibold">
    ðŸ›’ <span id="cartCount">0</span> item<br>
    ðŸ’° Rp <span id="cartTotal">0</span>
  </button>
</header>

<div class="flex justify-center gap-6 bg-white p-4 shadow">
  <button onclick="changeCategory('lipstik')" onmouseover="speak('Kategori Lipstik')" class="flex flex-col items-center text-pink-600">
    <i data-lucide="smile"></i> Lipstik
  </button>
  <button onclick="changeCategory('serum')" onmouseover="speak('Kategori Serum')" class="flex flex-col items-center text-pink-600">
    <i data-lucide="droplet"></i> Serum
  </button>
  <button onclick="changeCategory('bedak')" onmouseover="speak('Kategori Bedak')" class="flex flex-col items-center text-pink-600">
    <i data-lucide="palette"></i> Bedak
  </button>
  <button onclick="changeCategory('facewash')" onmouseover="speak('Kategori Face Wash')" class="flex flex-col items-center text-pink-600">
    <i data-lucide="sparkles"></i> Face Wash
  </button>
</div>

<div id="productList" class="grid grid-cols-2 md:grid-cols-4 gap-6 p-6"></div>

<div id="checkoutModal" class="hidden fixed inset-0 bg-black/40 flex justify-center items-center z-50">
  <div class="bg-white rounded-xl w-[90%] md:w-[400px] p-6">
    <h2 class="text-xl font-bold text-pink-700 mb-3">ðŸ§¾ Checkout</h2>

    <div id="checkoutItems" class="text-sm text-gray-700 mb-3"></div>

    <p class="font-semibold mb-3">Total: Rp <span id="checkoutTotal">0</span></p>

    <input id="name" placeholder="Nama Pembeli" class="w-full border p-2 rounded mb-2">
    <textarea id="address" placeholder="Alamat Pengiriman" class="w-full border p-2 rounded mb-3"></textarea>

    <div class="flex justify-between">
      <button onclick="closeCheckout()" class="px-4 py-1 bg-gray-300 rounded">Batal</button>
      <button onclick="confirmOrder()" class="px-4 py-1 bg-pink-500 text-white rounded">Pesan</button>
    </div>
  </div>
</div>

<script>
lucide.createIcons()

const products = {
  lipstik:[
    {name:"Lipstik OMG", price:45000},
    {name:"Lipstik Hanasui", price:38000},
    {name:"Lipstik Azarine", price:42000},
    {name:"Lipstik Timephoria", price:55000},
  ],
  serum:[
    {name:"Serum Skintific", price:120000},
    {name:"Serum Skin1004", price:150000},
    {name:"Serum Somethinc", price:110000},
  ],
  bedak:[
    {name:"Bedak Wardah", price:60000},
    {name:"Bedak Make Over", price:95000},
    {name:"Bedak Skintific", price:90000},
    {name:"Bedak Timephoria", price:85000},
  ],
  facewash:[
    {name:"Face Wash Cetaphil", price:70000},
    {name:"Face Wash Scora", price:50000},
    {name:"Face Wash Glad2Glow", price:45000},
    {name:"Face Wash Facetology", price:65000},
  ]
}

let cart = []
let total = 0

function changeCategory(cat){
  speak("Menampilkan produk " + cat)
  const list = document.getElementById("productList")
  list.innerHTML=""

  products[cat].forEach(p=>{
    list.innerHTML += `
      <div onmouseover="speak('${p.name}, harga ${p.price} rupiah')" 
      class="bg-white rounded-xl shadow-lg p-4 text-center">
        <div class="h-28 bg-gradient-to-br from-pink-200 to-rose-300 rounded mb-3"></div>
        <h3 class="font-semibold text-pink-700">${p.name}</h3>
        <p>Rp ${p.price.toLocaleString()}</p>
        <button onclick="addToCart('${p.name}', ${p.price})" 
        class="mt-2 bg-pink-500 text-white px-4 py-1 rounded">Beli</button>
      </div>
    `
  })
}

function addToCart(name, price){
  cart.push({name, price})
  total += price
  updateCart()
  speak(name + " berhasil ditambahkan ke keranjang")
}

function updateCart(){
  document.getElementById("cartCount").innerText = cart.length
  document.getElementById("cartTotal").innerText = total.toLocaleString()
}

function openCheckout(){
  if(cart.length === 0){
    speak("Keranjang masih kosong")
    return
  }
  document.getElementById("checkoutModal").classList.remove("hidden")
  let html=""
  cart.forEach(i=> html += `â€¢ ${i.name}<br>`)
  document.getElementById("checkoutItems").innerHTML = html
  document.getElementById("checkoutTotal").innerText = total.toLocaleString()
  speak("Halaman checkout dibuka")
}

function closeCheckout(){
  document.getElementById("checkoutModal").classList.add("hidden")
}

function confirmOrder(){
  const name = document.getElementById("name").value.trim()
  const address = document.getElementById("address").value.trim()

  if(name === "" || address === ""){
    speak("Nama pembeli dan alamat pengiriman wajib diisi sebelum memesan")
    alert("Nama dan Alamat wajib diisi!")
    return
  }

  let message = "Halo PinkGlow Beauty, saya ingin memesan:%0A%0A"
  cart.forEach((item, index) => {
    message += (index+1) + ". " + item.name + " - Rp " + item.price.toLocaleString() + "%0A"
  })
  message += "%0A"
  message += "Total Harga: Rp " + total.toLocaleString() + "%0A"
  message += "Nama Pembeli: " + name + "%0A"
  message += "Alamat Pengiriman: " + address

  const waLink = "https://wa.me/6287876043622?text=" + message

  speak("Pesanan Anda sedang dikirim ke WhatsApp")
  window.open(waLink, "_blank")

  cart = []
  total = 0
  updateCart()
  closeCheckout()
}

function speak(text){
  const msg = new SpeechSynthesisUtterance(text)
  msg.lang="id-ID"
  speechSynthesis.cancel()
  speechSynthesis.speak(msg)
}

changeCategory("lipstik")
</script>

</body>
</html>
